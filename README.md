# Парсер данных из Google Sheet

Тестовое задание на FullStack-разработчика.

## Стек

* `Python` == 3.8.10
* `Django` == 4.0.5
* `Django REST` == 3.13.1
* `Node.js` == 14.19.3
* `React` == 18.2.0
* `Docker` == 20.10.14
* `docker-compose` == 1.25.0


## Информационный блок

Ссылка на Google Sheet: ```https://docs.google.com/spreadsheets/d/1WyB2pG5o52cFtkvG-N5bKN1-pHL7st6sgDgi8hx1fMc/edit#gid=0```

Открыл доступ на редактирование аккаунту sales@numbersss.com, который указан в Notion, но мне написало, что такого аккаунта не существует.
Если этот e-mail ошибочный, напишите мне в телеграм @backdevelop или на почту mikhailsavchenko7@gmail.com

## Инструкция по запуску(для Linux)

### Все команды выполняются в терминале

1. **Клонирование репозитория**

    ```git clone https://github.com/Proweber12/fullstack_task.git```


2. **Скачиваем необходимые технологии**

   ```sudo apt update``` - *обновление локального индекса пакетов*
 
   - **Для установки Node.js выполняем ряд команд:**

       ```cd ~```

       ```curl -sL https://deb.nodesource.com/setup_14.x -o nodesource_setup.sh``` 

       ```sudo bash nodesource_setup.sh```

       ```sudo apt install nodejs -y```

   

   ```sudo snap install docker && sudo apt install docker-compose -y``` - *установка Docker и docker-compose*

   ```sudo docker run hello-world``` - *проверка работоспособности Docker(если без ошибок, значит всё ОК)*


3. **Собираем build на React**

    Переходим в папку склонированного репозитория(она будет называться fullstack_task,

    если не изменять команду для клонирования репозитория).

    Дальше переходим в папку frontend и находясь в этой папке пишем команду:
 
   ```npm i```

   Затем:

   ```npm run build```

    Когда выполнение команды закончится, появится папка build она нам и нужна была


4. **Собираем Docker-контейнеры**

    Возвращаемся обратно в папку склонированного репозитория(fullstack_task).

    В терминале пишем команду запуска docker-compose.

    ```sudo docker-compose -f docker-compose.yml up -d --build```

    После сборки контейнеров проверяем их состояние:

   ```sudo docker ps```

   Если в колонке STATUS у всех контейнеров написано Up и время прошедшее с их запуска,

   значит всё работает(если в столбце STATUS есть контейнеры с надписью Exited или меньше 5 контейнеров в активном состоянии читай 5 пункт)

   Переходим на локальный адрес: 127.0.0.1 и наблюдаем результат если всё запустилось с первой попытки.
   
   Чтобы остановить контейнеры введите команду:
   
   ```sudo docker-compose down```

***
5. **Eсли в столбце STATUS есть контейнеры с надписью Exited или меньше 5 контейнеров в активном состоянии**

      В таком случае повторяем команду запуска docker-compose:
   
      ```sudo docker-compose -f docker-compose.yml up -d --build```
   
      После этой команды Docker-контенера точно заработают, а происходит такая ситуация из-за того, 
   
      что база данных не успевает собраться до того, как запускается backend-контейнер и в Python срабатывает исключение
   
      из-за того, что он не может подключиться к базе данных

## P.S.

Проблема с тем, что база данных не успевает запуститься, до того как запуститься контейнер backend решается с помощью bash-скрипта, который делает ожидание запуска базы данных и только потом запускает остальные Docker-контейнеры, но у меня уже не хватило на это времени.

## Лицензия

MIT
